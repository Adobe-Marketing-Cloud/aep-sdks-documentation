# Campaign Classic event reference

## Events handled

The following events are handled by the Adobe Campaign Classic extension:

### Campaign request content <a id="campaignclassic-content-request"></a>

This event is a request to make a registration or a track (receive or click) call and is generated by the API when the following conditions are met:

* When a registration request needs to be sent (`registerDevice`).
* When a track receive request needs to be sent (`trackNotificationReceive`).
* When a track click request needs to be sent (`trackNotificationClick`).

#### registerDevice

The following key-value pairs are used in this event:

| **Key** | **Value Type** | **Required** | **Description** |
| :--- | :--- | :--- | :--- |
| `additionalParameters` | VariantMap | No | An optional map that contains additional key/value pairs to be sent with the registration event. |
| `deviceToken` | String | Yes | The device token retrieved from Firebase Cloud Messaging. |
| `registerDevice` | Boolean | Yes | This value is populated when `registerDevice` API is called. |
| `deviceInfo` | StringMap | Yes | A map that contains the device information, including the device name, brand, manufacturer, and UUID. |
| `userKey` | String | Yes | A string that identifies the user, such as an email address. |

The `registerDevice` API parameters are also sent in the event, as described below. The `deviceinfo` map is internally populated.

```json
{
    "additionalParameters": {
        "firstName": "John",
        "lastName": "Doe",
        "zipCode": 94403,
        "testId": "11000.1110002321321",
        "region": "US",
        "userId": "123999333",
        "age": 28
    },
    "deviceToken": "d6x4Bu6pxDg:APA91bG9jZb6oQ3-sExUZRbaYP_LjA6POO0NXMaUaxcBQj9GF5ZBGlFo76raIabLziMMt2mLhLafBW9kYqiZ3Nemwjox3Hg6muTPyLeMOuGj24mCitVt73_KML184meqLYXCqhvg53MI",
    "registerDevice": true,
    "deviceInfo": {
        "deviceName": "generic_x86",
        "deviceBrand": "Android",
        "deviceManufacturer": "unknown",
        "deviceUuid": "00000000-3398-7b70-0000-000033987b70"
    },
    "userKey": "john@example.com"
}
```

#### trackNotificationClick

The following key-value pairs are used in this event:

| Key | Value Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `trackClick` | Boolean | Yes | Populated when `trackNotificationClick` API is called. |
| `trackInfo` | StringMap | Yes | A map containing tracking identifiers that were received in the message payload. |

The `trackNotificationClick` parameters are also sent in the event, as described below:

```json
{
    "trackClick": true,
    "trackInfo": {
        "_mId": "12345",
        "_dId": "f0190"
    }
}
```

#### trackNotificationReceive

The following key-value pairs are used in this event:

| Key            | Value Type | Required | Description                                                  |
| :------------- | :--------- | :------- | :----------------------------------------------------------- |
| `trackReceive` | Boolean    | Yes      | This value is populated when `trackNotificationReceive` API is called. |
| `trackInfo`    | StringMap  | Yes      | A map containing the tracking identifiers received in the message payload. |

The `trackNotificationReceive` parameters are also sent in the event, as described below:

```json
{
    "trackReceive": true,
    "trackInfo": {
        "_mId": "12345",
        "_dId": "f0190"
    }
}
```

### Configuration response content <a id="configuration-response-content"></a>

The data property in this event is used by each extension to modify its settings. Each extension is responsible for reading out the part of the data property for which it is concerned.

#### Data payload definition <a id="data-payload-definition-2"></a>

The following key/value pair is used by the Adobe Campaign Classic extension from the configuration event.

| **Key** | **Value Type** | **Optional** | **Description** |
| :--- | :--- | :--- | :--- |
| `global.privacy` | String | Yes | This contains the mobile privacy status settings. |

## Events dispatched

The following events are dispatched by the Campaign Classic extension:

### Campaign response content

This event is a response from the Campaign Classic extension to notify the result of the registration request that is sent to the Campaign Classic marketing server.

This event is dispatched in a response to the `registerDevice` API and contains a `registrationstatus` key of type _boolean,_ which signals the success or failure of the registration request.

#### Event details

| **Event Type** | **Event Source** | **Paired** |
| :--- | :--- | :--- |
| `com.adobe.eventType.campaign` | `com.adobe.eventSource.responseContent` | Yes |

#### Data payload definition

The following key-value pair is used in this event:

| **Key** | **Value Type** | **Optional** | **Description** |
| :--- | :--- | :--- | :--- |
| `registrationstatus` | Boolean | Yes | A boolean containing the registration request success status |

#### Event data example

**Registration status**

```json
{
    "registrationstatus": true
}
```

